name: Demo CI/CD
on:
  push:
    branches:
      - main
    tags:
      - lkgba_*.*.*
      - v*.*.*

# on:
#   pull_request:

jobs:
  run-script:
    runs-on: ubuntu-latest

    steps:
      # - uses: actions/checkout@v2
      #   with:
      #     fetch-depth: 0
      
      - id: script
        uses: vinay-20/composite_actions/.github/pv-composite-actions/container-image@main
        with:
          aws_access_key: ${{ secrets.AWS_ACCESS_KEY }}
          aws_secret_key: ${{ secrets.AWS_SECRET_KEY }}
          session_token: ${{ secrets.AWS_SESSION_TOKEN }}
          #service_name: ${{ github.event.repository.name }}
          service_name: "dev-okrs-api"
      
      - name: outputs
        run: |
          echo ${{ github.event.repository.name }}

